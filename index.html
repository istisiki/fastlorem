<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FastLorem - Lorem Ipsum Generator</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=VT323&display=swap");

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "VT323", monospace;
        background: #9bbd8b;
        background-image: repeating-linear-gradient(
            0deg,
            rgba(255, 255, 255, 0.1),
            rgba(255, 255, 255, 0.1) 1px,
            transparent 1px,
            transparent 4px
          ),
          repeating-linear-gradient(
            90deg,
            rgba(255, 255, 255, 0.1),
            rgba(255, 255, 255, 0.1) 1px,
            transparent 1px,
            transparent 4px
          );
        min-height: 100vh;
        overflow: hidden;
        padding: 1rem;
        color: #1b3b0d;
        display: flex;
        flex-direction: column;
      }

      body.expanded {
        overflow: auto;
        height: auto;
      }

      .container {
        max-width: 1000px;
        margin: 0 auto;
        position: relative;
        flex: 1;
        display: flex;
        flex-direction: column;
        height: 100%;
      }

      .header {
        text-align: center;
        margin-bottom: 1rem;
        flex-shrink: 0;
      }

      .header h1 {
        font-size: 2.5rem;
        color: #1b3b0d;
        text-transform: uppercase;
        letter-spacing: 3px;
        margin-bottom: 0.5rem;
        text-shadow: 2px 2px 0px #6b8a5b;
      }

      .controls {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin-bottom: 1rem;
        flex-shrink: 0;
      }

      .btn {
        background: #6b8a5b;
        border: 4px solid;
        border-color: #8fab7f #4a6b3a #4a6b3a #8fab7f;
        color: #1b3b0d;
        padding: 12px 24px;
        font-family: "VT323", monospace;
        font-size: 1.4rem;
        text-transform: uppercase;
        cursor: pointer;
        position: relative;
        letter-spacing: 2px;
        font-weight: normal;
        transition: none;
      }

      .btn:hover {
        background: #7a9b6a;
      }

      .btn:active {
        border-color: #4a6b3a #8fab7f #8fab7f #4a6b3a;
        transform: translate(2px, 2px);
      }

      .main-screen {
        background: #8fab7f;
        border: 6px solid;
        border-color: #6b8a5b #4a6b3a #4a6b3a #6b8a5b;
        margin: 0 auto;
        max-width: 700px;
        position: relative;
        display: flex;
        flex-direction: column;
        transition: all 0.3s ease;
        max-height: calc(100vh - 220px);
      }

      .main-screen.expanded {
        max-height: none;
        height: auto;
      }

      .screen-inner {
        background: #7a9b6a;
        border: 3px solid;
        border-color: #4a6b3a #6b8a5b #6b8a5b #4a6b3a;
        margin: 8px;
        flex: 1;
        position: relative;
        display: flex;
        flex-direction: column;
      }

      .lorem-text {
        background: #9bbd8b;
        border: 2px solid #1b3b0d;
        margin: 12px;
        padding: 20px;
        font-size: 1.2rem;
        line-height: 1.4;
        color: #1b3b0d;
        font-family: "VT323", monospace;
        text-align: left;
        overflow: hidden;
        position: relative;
        height: calc(100vh - 350px);
        max-height: calc(100vh - 350px);
      }

      .lorem-text.expanded {
        height: auto;
        max-height: none;
        overflow: visible;
      }

      .lorem-text.scrollable::-webkit-scrollbar {
        display: none; /* WebKit */
      }

      .lorem-text.has-overflow::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        height: 30px;
        background: linear-gradient(transparent, #9bbd8b);
        pointer-events: none;
      }

      .expand-controls {
        display: flex;
        justify-content: center;
        gap: 1rem;
        padding: 10px;
        background: #7a9b6a;
      }

      .expand-controls.hidden {
        display: none;
      }

      .hidden {
        display: none !important;
      }

      .lorem-text p {
        margin-bottom: 1rem;
      }

      .lorem-text p:last-child {
        margin-bottom: 0;
      }

      .copy-notification {
        position: fixed;
        top: 30px;
        right: 30px;
        background: #6b8a5b;
        border: 4px solid;
        border-color: #8fab7f #4a6b3a #4a6b3a #8fab7f;
        color: #1b3b0d;
        padding: 12px 20px;
        transform: translateX(400px);
        transition: transform 0.3s ease;
        font-family: "VT323", monospace;
        font-size: 1.2rem;
        text-transform: uppercase;
        letter-spacing: 1px;
        z-index: 1000;
      }

      .copy-notification.show {
        transform: translateX(0);
      }

      .footer {
        text-align: center;
        padding: 1rem;
        color: #1b3b0d;
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 1px;
        flex-shrink: 0;
        margin-top: auto;
      }

      @media (max-width: 768px) {
        body {
          padding: 1rem;
        }

        .header h1 {
          font-size: 2.2rem;
        }

        .main-screen {
          min-height: 400px;
        }

        .screen-inner {
          min-height: calc(400px - 28px);
        }

        .lorem-text {
          min-height: calc(400px - 68px);
          font-size: 1.1rem;
        }
      }

      @media (max-width: 480px) {
        .header h1 {
          font-size: 1.8rem;
          letter-spacing: 2px;
        }

        .btn {
          font-size: 1.2rem;
          padding: 10px 20px;
        }

        .main-screen {
          min-height: 350px;
        }

        .screen-inner {
          min-height: calc(350px - 28px);
        }

        .lorem-text {
          min-height: calc(350px - 68px);
          font-size: 1rem;
          padding: 15px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header class="header">
        <h1>FastLorem</h1>
      </header>

      <div class="controls">
        <button id="copyBtn" class="btn">Copy</button>
      </div>

      <div id="mainScreen" class="main-screen">
        <div class="screen-inner">
          <div id="loremText" class="lorem-text">
            <!-- Lorem ipsum text will be generated here -->
          </div>
          <div id="expandControls" class="expand-controls hidden">
            <button id="seeMoreBtn" class="btn">See More</button>
            <button id="collapsBtn" class="btn hidden">Collapse</button>
          </div>
        </div>
      </div>

      <footer class="footer">
        <p>
          &copy; 2025 FastLorem â€¢ Authentic lorem ipsum from Cicero's De Finibus
          Bonorum et Malorum
        </p>
      </footer>
    </div>

    <div id="copyNotification" class="copy-notification">
      Copied to clipboard!
    </div>

    <script>
      class LoremGenerator {
        constructor() {
          this.words = [
            "a",
            "ab",
            "accusamus",
            "accusantium",
            "ad",
            "adipisci",
            "adipiscing",
            "aliqua",
            "aliquam",
            "aliquid",
            "amet",
            "anim",
            "aperiam",
            "architecto",
            "asperiores",
            "aspernatur",
            "assumenda",
            "at",
            "atque",
            "aut",
            "aute",
            "autem",
            "beatae",
            "blanditiis",
            "cillum",
            "commodi",
            "commodo",
            "consectetur",
            "consequat",
            "consequatur",
            "consequuntur",
            "corporis",
            "corrupti",
            "culpa",
            "cum",
            "cumque",
            "cupidatat",
            "cupiditate",
            "debitis",
            "delectus",
            "deleniti",
            "deserunt",
            "dicta",
            "dignissimos",
            "distinctio",
            "do",
            "dolor",
            "dolore",
            "dolorem",
            "doloremque",
            "dolores",
            "doloribus",
            "dolorum",
            "ducimus",
            "duis",
            "ea",
            "eaque",
            "earum",
            "eius",
            "eligendi",
            "elit",
            "enim",
            "eos",
            "error",
            "esse",
            "est",
            "et",
            "eu",
            "eum",
            "eveniet",
            "ex",
            "excepteur",
            "excepturi",
            "exercitation",
            "exercitationem",
            "expedita",
            "explicabo",
            "facere",
            "facilis",
            "fuga",
            "fugiat",
            "fugit",
            "harum",
            "hic",
            "id",
            "illo",
            "illum",
            "impedit",
            "in",
            "incidunt",
            "incididunt",
            "inventore",
            "ipsum",
            "irure",
            "iste",
            "itaque",
            "labore",
            "laboriosam",
            "laboris",
            "laborum",
            "laudantium",
            "libero",
            "lorem",
            "magna",
            "magnam",
            "magni",
            "maiores",
            "maxime",
            "minima",
            "minim",
            "minus",
            "modi",
            "molestiae",
            "molestias",
            "mollitia",
            "mollit",
            "nam",
            "natus",
            "necessitatibus",
            "nemo",
            "neque",
            "nesciunt",
            "nihil",
            "nisi",
            "nobis",
            "non",
            "nostrud",
            "nulla",
            "numquam",
            "occaecat",
            "odio",
            "odit",
            "officia",
            "omnis",
            "optio",
            "pariatur",
            "perferendis",
            "perspiciatis",
            "placeat",
            "porro",
            "possimus",
            "praesentium",
            "proident",
            "quae",
            "quaerat",
            "quam",
            "quas",
            "qui",
            "quia",
            "quibusdam",
            "quidem",
            "quis",
            "quisquam",
            "quo",
            "ratione",
            "recusandae",
            "reiciendis",
            "rem",
            "repellat",
            "repellendus",
            "reprehenderit",
            "repudiandae",
            "rerum",
            "saepe",
            "sapiente",
            "sed",
            "sequi",
            "similique",
            "sint",
            "sit",
            "soluta",
            "sunt",
            "suscipit",
            "tempor",
            "tempora",
            "temporibus",
            "tempore",
            "tenetur",
            "totam",
            "ullamco",
            "ullam",
            "unde",
            "ut",
            "vel",
            "velit",
            "veniam",
            "vero",
            "vitae",
            "voluptas",
            "voluptate",
            "voluptatem",
            "voluptates",
            "voluptatibus",
            "voluptatum",
          ];

          this.copyBtn = document.getElementById("copyBtn");
          this.loremText = document.getElementById("loremText");
          this.copyNotification = document.getElementById("copyNotification");
          this.mainScreen = document.getElementById("mainScreen");
          this.expandControls = document.getElementById("expandControls");
          this.seeMoreBtn = document.getElementById("seeMoreBtn");
          this.collapsBtn = document.getElementById("collapsBtn");

          this.isExpanded = false;

          this.init();
        }

        init() {
          this.generateText();
          this.copyBtn.addEventListener("click", () => this.copyToClipboard());
          this.seeMoreBtn.addEventListener("click", () => this.expandContent());
          this.collapsBtn.addEventListener("click", () =>
            this.collapseContent(),
          );

          // Generate text on page load
          window.addEventListener("load", () => this.generateText());
        }

        getRandomInt(min, max) {
          return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        generateSentence() {
          const sentenceLength = this.getRandomInt(8, 20);
          let sentence = [];

          for (let i = 0; i < sentenceLength; i++) {
            const randomWord =
              this.words[Math.floor(Math.random() * this.words.length)];
            sentence.push(randomWord);
          }

          // Capitalize first word
          sentence[0] =
            sentence[0].charAt(0).toUpperCase() + sentence[0].slice(1);

          return sentence.join(" ") + ".";
        }

        generateParagraph() {
          const sentenceCount = this.getRandomInt(3, 8);
          let sentences = [];

          for (let i = 0; i < sentenceCount; i++) {
            sentences.push(this.generateSentence());
          }

          return sentences.join(" ");
        }

        generateText() {
          const paragraphCount = this.getRandomInt(5, 8); // Generate more text to ensure overflow
          let paragraphs = [];

          // Always start with the classic lorem ipsum opening for first paragraph
          const classicOpening =
            "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.";
          let firstParagraph = classicOpening;

          // Add more sentences to the first paragraph
          const additionalSentences = this.getRandomInt(3, 6);
          for (let j = 0; j < additionalSentences; j++) {
            firstParagraph += " " + this.generateSentence();
          }

          paragraphs.push(`<p>${firstParagraph}</p>`);

          // Generate remaining paragraphs normally
          for (let i = 1; i < paragraphCount; i++) {
            paragraphs.push(`<p>${this.generateParagraph()}</p>`);
          }

          this.loremText.innerHTML = paragraphs.join("");

          // Check for overflow after text is rendered with multiple checks
          setTimeout(() => this.checkOverflow(), 100);
          setTimeout(() => this.checkOverflow(), 500); // Additional check for safety
        }

        checkOverflow() {
          // Wait for layout to be complete
          requestAnimationFrame(() => {
            const hasOverflow =
              this.loremText.scrollHeight > this.loremText.clientHeight;

            if (hasOverflow && !this.isExpanded) {
              this.loremText.classList.add("has-overflow");
              this.expandControls.classList.remove("hidden");
              console.log(
                "Overflow detected:",
                this.loremText.scrollHeight,
                ">",
                this.loremText.clientHeight,
              );
            } else {
              this.loremText.classList.remove("has-overflow");
              if (!this.isExpanded) {
                this.expandControls.classList.add("hidden");
              }
              console.log(
                "No overflow:",
                this.loremText.scrollHeight,
                "<=",
                this.loremText.clientHeight,
              );
            }
          });
        }

        expandContent() {
          this.isExpanded = true;
          this.mainScreen.classList.add("expanded");
          this.loremText.classList.add("expanded");
          this.loremText.classList.remove("has-overflow");
          this.seeMoreBtn.classList.add("hidden");
          this.collapsBtn.classList.remove("hidden");
          document.body.classList.add("expanded");
        }

        collapseContent() {
          this.isExpanded = false;
          this.mainScreen.classList.remove("expanded");
          this.loremText.classList.remove("expanded");
          this.seeMoreBtn.classList.remove("hidden");
          this.collapsBtn.classList.add("hidden");
          document.body.classList.remove("expanded");

          // Re-check overflow after collapse
          setTimeout(() => this.checkOverflow(), 100);
        }

        async copyToClipboard() {
          try {
            const textContent = this.loremText.innerText;
            await navigator.clipboard.writeText(textContent);
            this.showCopyNotification();
          } catch (err) {
            // Fallback for older browsers
            this.fallbackCopyToClipboard(this.loremText.innerText);
          }
        }

        fallbackCopyToClipboard(text) {
          const textArea = document.createElement("textarea");
          textArea.value = text;
          textArea.style.position = "fixed";
          textArea.style.left = "-999999px";
          textArea.style.top = "-999999px";
          document.body.appendChild(textArea);
          textArea.focus();
          textArea.select();

          try {
            document.execCommand("copy");
            this.showCopyNotification();
          } catch (err) {
            console.error("Failed to copy text: ", err);
            alert("Failed to copy to clipboard. Please copy manually.");
          }

          document.body.removeChild(textArea);
        }

        showCopyNotification() {
          this.copyNotification.classList.add("show");
          setTimeout(() => {
            this.copyNotification.classList.remove("show");
          }, 2000);
        }
      }

      // Initialize the lorem generator when the DOM is loaded
      document.addEventListener("DOMContentLoaded", () => {
        new LoremGenerator();
      });
    </script>
  </body>
</html>
